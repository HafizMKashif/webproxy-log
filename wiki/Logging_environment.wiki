#summary Learn to set up Logging environment
#labels Deprecated
#sidebar Help

== You'll need ==
 * access to your Mikrotik
 * !WebProxy Log
 * !WebProxy Log Catcher

== Mikrotik configuration ==

First of all, if you are not using manual client-side proxy configuration, you'll need to set up transparent proxy on your Mikrotik. You can learn [http://wiki.mikrotik.com/wiki/How_to_make_transparent_web_proxy here] more about it.

When you're sure that clients will make traffic through proxy, you'll have to set up logging in your Mikrotik. Either by using the console or [http://wiki.mikrotik.com/wiki/Manual:Winbox WinBox]:
 * go to 'System/Logging/Actions'
 * add new Action with following details:
  * *Name*: !WebProxyLog
  * *Type*: remote
  * *Remote Address*: _enter  here the IP address of the remote computer where !WebProxy Log Catcher will be running_
  * *Remote Port*: _enter here UDP port of the computer where !WebProxy Log Catcher will be listening - usually for syslog 514_
 * now go to 'System/Logging/Rules'
 * add new rule with following details:
  * *Topics*: web-proxy, !debug
  * *Prefix*: proxy
  * *Action*: !WebProxyLog _(or whatever name you gave to the action)_

*Make sure that UDP port you specified for remote logging is open both in [http://wiki.mikrotik.com/wiki/Manual:IP/Firewall/Filter Mikrotik's firewall] and in [http://windows.microsoft.com/en-us/windows7/Open-a-port-in-Windows-Firewall remote computer's firewall]!*

== !WebProxy Log Catcher configuration ==
 * [http://code.google.com/p/webproxy-log/downloads/list download] and install !WebProxy Log package
 * run it and settings dialog will pop up right after language selection
 * configure IP address, UDP port and logs locations
 * when you apply your configuration, you will be prompted to start !WebProxy Log Catcher - run it

That's it!